# 移动端适配方案完整总结（工程化视角）

> 本文从**工程实践**出发，系统总结目前 Web 移动端所有主流适配方案，涵盖其**原理、实现方式、优缺点及适用场景**，用于技术选型与团队统一规范。

---

## 一、移动端适配的本质问题

所有适配方案，本质都在解决以下两个问题：

1. **不同屏幕宽度下，布局如何合理变化**
2. **设计稿尺寸如何映射到真实设备尺寸**

任何方案，都是在回答这两个问题之一或全部。

---

## 二、主流移动端适配方案总览

| 序号 | 方案              | 是否主流 | 是否推荐  | 备注     |
| -- | --------------- | ---- | ----- | ------ |
| 1  | viewport + px   | ❌    | ❌     | 已淘汰    |
| 2  | media query 分段  | ⚠️   | ❌ 新项目 | 老项目常见  |
| 3  | rem + JS 动态计算   | ⚠️   | ⚠️    | 曾经主流   |
| 4  | rem + CSS 计算    | ✅    | ✅     | 当前工程主流 |
| 5  | vw / vh         | ⚠️   | ⚠️    | 简单页面可用 |
| 6  | Flex / Grid 响应式 | ✅    | ✅     | 必须配合使用 |
| 7  | clamp() 流式方案    | ✅    | ✅     | 新趋势    |
| 8  | 多套设计稿           | ❌    | ❌     | 工程灾难   |
| 9  | 小程序 rpx         | ✅    | ✅     | 仅限小程序  |

---

## 三、各方案详解

---

### 1️⃣ viewport + px（已淘汰）

**原理**

```html
<meta name="viewport" content="width=device-width" />
```

```css
.box { width: 300px; }
```

**特点**

* 不做任何缩放
* 不同设备显示差异极大

**结论**

> ❌ 已完全淘汰，仅存在于极老页面

---

### 2️⃣ media query 分段适配

**原理**

```css
@media (max-width: 360px) {
  html { font-size: 16px; }
}
@media (min-width: 361px) {
  html { font-size: 18px; }
}
```

**本质**

* 经验驱动
* 非连续缩放

**问题**

* 字号跳变
* 断点维护成本极高
* 不利于组件化

**结论**

> ⚠️ 老项目可维护，新项目不推荐

---

### 3️⃣ rem + JS 动态计算（flexible.js）

**原理**

```js
document.documentElement.style.fontSize =
  document.documentElement.clientWidth / 10 + 'px';
```

**优点**

* 精确等比
* 曾经的事实标准

**问题**

* 强依赖 JS
* resize / 横竖屏切换抖动
* SSR / WebView 不友好

**结论**

> ⚠️ 仍在使用，但不再是最优解

---

### 4️⃣ rem + CSS 计算（工程主流方案）✅

**原理**

```css
html {
  font-size: calc(100vw / 375 * 100%);
}
```

或通过 SCSS + media query 生成。

**本质**

> 屏幕宽度变化 → rem 连续线性变化

**优点**

* 无 JS 依赖
* 数学模型稳定
* 首屏无抖动
* 适合中台 / 组件库

**结论**

> ✅ 当前最稳妥、最推荐的工程方案

---

### 5️⃣ vw / vh 纯视口单位

**原理**

```css
.box {
  width: 80vw;
  padding: 4vw;
}
```

**问题**

* 字体不可控
* 大屏无限放大
* 复杂页面难维护

**结论**

> ⚠️ 简单页面可用，不适合复杂系统

---

### 6️⃣ Flex / Grid 响应式布局

**原理**

* 布局自动伸缩
* 与屏幕宽度弱耦合

```css
display: flex;
```

**说明**

* 解决的是**布局问题**
* 不是尺寸映射方案

**结论**

> ✅ 必须与 rem / vw 等方案配合使用

---

### 7️⃣ clamp() + fluid typography（新趋势）✅

**原理**

```css
font-size: clamp(14px, 3vw, 18px);
```

**特点**

* 连续变化
* 有上下限保护
* 无 JS

**结论**

> ✅ 新项目强烈推荐逐步引入

---

### 8️⃣ 多套设计稿方案（淘汰）

**问题**

* 样式重复
* 成本极高
* 容易出错

**结论**

> ❌ 工程灾难，不可采用

---

### 9️⃣ 小程序 rpx（平台特例）

**原理**

```
750rpx = 屏幕宽度
```

**说明**

* 平台强制
* 不可类比 Web

**结论**

> ✅ 仅适用于小程序

---

## 四、工程级选型结论

### ✅ 推荐组合（中大型项目）

> **rem + CSS 计算 + Flex/Grid + clamp（可选）**

### ❌ 不推荐

* media query 堆断点
* JS 动态改 font-size（新项目）
* 多套设计稿

---

## 五、一句话总结

> **适配方案的关键不在“动态”，而在“稳定、可预测、可维护”。**

> **基准必须是常量，变化只能来自环境。**

---

（完）
